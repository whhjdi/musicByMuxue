(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{"0893":function(t,e,s){"use strict";var n=s("8b5b"),i=s.n(n);i.a},"0b7b":function(t,e,s){"use strict";var n=s("798f"),i=s.n(n);i.a},"15a5":function(t,e,s){},"42ba":function(t,e,s){"use strict";var n=s("d225"),i=s("b0b4"),a=s("e1d2"),o=function(){function t(){Object(n["a"])(this,t)}return Object(i["a"])(t,null,[{key:"getBanner",value:function(){return Object(a["a"])("banner")}},{key:"getRecommend",value:function(){return Object(a["a"])("recommend")}},{key:"getRecommendSongs",value:function(){return Object(a["a"])("personalized",{params:{limit:6}})}},{key:"getNewSong",value:function(){return Object(a["a"])("newSong",{})}},{key:"getDisc",value:function(t){return Object(a["a"])("disc",{params:{id:t}})}},{key:"getNewDisc",value:function(){return Object(a["a"])("newDisc",{params:{order:"new",limit:6}})}},{key:"getResource",value:function(){return Object(a["a"])("resource",{params:{limit:6}})}},{key:"getAllSongList",value:function(t,e,s){return Object(a["a"])("newDisc",{params:{limit:10,cat:t,offset:e,order:s}})}},{key:"getCatList",value:function(){return Object(a["a"])("catList")}},{key:"getComment",value:function(t,e){return Object(a["a"])("comment",{params:{id:t,offset:e}})}}]),t}();e["a"]=o},"65fe":function(t,e,s){},7368:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user"},[s("div",{staticClass:"header"},[s("h2",{staticClass:"title"},[t._v(t._s(t.title))]),s("search-nav")],1),s("div",{staticClass:"tab-wrapper"},[s("user-tab",{attrs:{list:t.list,currentIndex:t.currentIndex},on:{select:t.selectItem}})],1),s("div",{staticClass:"content"},[0==t.currentIndex?s("div",{staticClass:"play-history-wrapper"},[s("user-list",{attrs:{userList:t.playHistory,showDelete:!0,deleteText:"清空历史"},on:{clear:t.clearHistory,deleteOne:t.deleteOneHistory}})],1):1==t.currentIndex?s("div",{staticClass:"like-wrapper"},[s("user-list",{attrs:{userList:t.favoriteList},on:{clear:t.clearFavorite,deleteOne:t.deleteOneFavorite}})],1):2==t.currentIndex?s("div",{staticClass:"random-wrapepr"},[s("UserRecommend",{attrs:{userList:t.recommends}})],1):s("div",{staticClass:"about-wrapper"},[s("About")],1)])])},i=[],a=(s("ac6a"),s("7f7f"),s("cebc")),o=s("2f62"),r=s("76f3"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"tab"},t._l(t.list,function(e,n){return s("li",{key:e.text,staticClass:"item",class:{active:t.currentIndex===n},on:{click:function(e){t.selectItem(n)}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":e.icon}})]),s("div",{staticClass:"text"},[t._v(t._s(e.text))])])}),0)},l=[],u=(s("c5f6"),{name:"",components:{},props:{list:{type:Array,default:function(){return[]}},currentIndex:{type:Number,default:0}},data:function(){return{}},watch:{},computed:{},methods:{selectItem:function(t){this.$emit("select",t)}},created:function(){},mounted:function(){}}),d=u,f=(s("f3e2"),s("2877")),p=Object(f["a"])(d,c,l,!1,null,"2b9064b6",null);p.options.__file="UserTab.vue";var v=p.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-list"},[s("Scroll",{ref:"list",staticClass:"wrapper",attrs:{data:t.userList,"probe-type":t.probeType,listenscroll:t.listenScroll}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.userList&&t.userList.length>0,expression:"userList && userList.length > 0"}],staticClass:"list-wrapper"},[s("div",{staticClass:"control-wrapper border-bottom"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-play-circle"}})]),s("span",{staticClass:"desc",on:{click:t.playAll}},[t._v("播放全部（共"+t._s(t.userList.length)+"首）")]),s("div",{staticClass:"clear",on:{click:function(e){return e.stopPropagation(),t.confirm(e)}}},[t._v(t._s(t.deleteText))])]),s("ul",{ref:"wrapper",staticClass:"song-list"},t._l(t.userList,function(e,n){return s("li",{key:e.id,staticClass:"song border-bottom",on:{click:function(s){t.selectItem(e)}}},[s("div",{staticClass:"number"},[t._v(t._s(n+1))]),s("div",{staticClass:"right"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"singer"},[t._v("\n              "+t._s(e.singer)+" "),s("span",{staticClass:"album"},[t._v("-"+t._s(e.album))])])]),s("svg",{staticClass:"icon i-switch",attrs:{"aria-hidden":"true"},on:{click:function(s){s.stopPropagation(),t.showPopOver(e)}}},[s("use",{attrs:{"xlink:href":"#icon-switch"}})])])}),0)]),s("h2",{directives:[{name:"show",rawName:"v-show",value:0===t.userList.length,expression:"userList.length === 0"}],staticClass:"void"},[t._v(t._s(t.tips))])]),s("pop-menu",{ref:"popMenu",attrs:{showDelete:t.showDelete},on:{nextPlay:t.nextPlay,playNow:t.nowPlay,deleteOne:t.deleteOne}}),s("Confirm",{ref:"confirm",attrs:{text:"确定要清空所有播放记录吗"},on:{deleteAll:t.clear}})],1)},h=[],b=s("3ce5"),g=s("7978"),w=s("a32c"),_=s("0712"),y={name:"userList",components:{Scroll:b["a"],PopMenu:g["a"],Confirm:w["a"]},mixins:[_["c"],_["e"]],props:{userList:{type:Array,default:function(){return[]}},showDelete:{type:Boolean,default:!1},deleteText:{type:String,default:"清空收藏"},tips:{type:String,default:"哈哈哈，这里是空的呢"}},data:function(){return{}},watch:{},computed:Object(a["a"])({},Object(o["c"])(["playList"])),methods:Object(a["a"])({},Object(o["b"])(["setTips"]),{confirm:function(){this.$refs.confirm.show()},clear:function(){this.$emit("clear"),this.$refs.confirm.hide(),this.setTips("已清空")},deleteOne:function(t){this.$emit("deleteOne",t)}})},C=y,O=(s("d030"),Object(f["a"])(C,m,h,!1,null,"32f27a32",null));O.options.__file="UserList.vue";var x=O.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-list"},[s("Scroll",{directives:[{name:"show",rawName:"v-show",value:t.userList,expression:"userList"}],ref:"list",staticClass:"wrapper",attrs:{data:t.userList,"probe-type":t.probeType,listenscroll:t.listenScroll}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"list-wrapper"},[s("div",{staticClass:"control-wrapper border-bottom"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-play-circle"}})]),s("span",{staticClass:"desc",on:{click:t.playAll}},[t._v("播放全部（共"+t._s(t.userList.length)+"首）")])]),s("ul",{ref:"wrapper",staticClass:"song-list"},t._l(t.userList,function(e,n){return s("li",{key:n,staticClass:"song border-bottom",on:{click:function(s){t.selectItem(e)}}},[s("div",{staticClass:"number"},[t._v(t._s(n+1))]),s("div",{staticClass:"right"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"singer"},[t._v("\n              "+t._s(e.singer)+" "),s("span",{staticClass:"album"},[t._v("-"+t._s(e.album))])])]),s("svg",{staticClass:"icon i-switch",attrs:{"aria-hidden":"true"},on:{click:function(s){s.stopPropagation(),t.showPopOver(e)}}},[s("use",{attrs:{"xlink:href":"#icon-switch"}})])])}),0)]),s("h2",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],staticClass:"void"},[s("span",{staticClass:"toLogin",on:{click:t.toLogin}},[t._v("登录")]),t._v("才能找到你喜欢的歌曲呢\n    ")])]),s("pop-menu",{ref:"popMenu",attrs:{showDelete:!1},on:{nextPlay:t.nextPlay,playNow:t.nowPlay}})],1)},L=[],j={name:"userList",components:{Scroll:b["a"],PopMenu:g["a"]},mixins:[_["c"],_["e"]],props:{userList:{type:Array,default:function(){return[]}}},data:function(){return{}},watch:{},computed:Object(a["a"])({},Object(o["c"])(["isLogin"])),methods:{toLogin:function(){this.$router.push({path:"/login"})}}},I=j,S=(s("0893"),Object(f["a"])(I,k,L,!1,null,"f86e597e",null));S.options.__file="UserRecommend.vue";var N=S.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[t.isLogin?s("div",{staticClass:"header"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.userInfo.picUrl,expression:"userInfo.picUrl"}],staticClass:"pic",attrs:{alt:""}}),s("h1",{staticClass:"name"},[t._v(t._s(t.userInfo.name))]),s("p",{staticClass:"id"},[t._v(t._s(t.userInfo.id))]),s("div",{staticClass:"signin",on:{click:t.signin}},[t._v("签到")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"toLogout",on:{click:t.toLogout}},[t._v("退出登录")])]):s("div",{staticClass:"content"},[s("h2",{staticClass:"text"},[t._v("您还没有登录，赶快去登录吧")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],staticClass:"toLogin",on:{click:t.toLogin}},[t._v("登录")])])])},T=[],U=s("7ded"),$={name:"",components:{},props:{},data:function(){return{}},watch:{},computed:Object(a["a"])({},Object(o["c"])(["userInfo","isLogin"])),methods:Object(a["a"])({},Object(o["d"])({setUserInfo:"SET_USER_INFO"}),Object(o["b"])(["setTips"]),{toLogin:function(){this.$router.push({path:"/login"})},toLogout:function(){U["a"].logout(),this.setUserInfo(null),this.setTips("已为您退出登录")},signin:function(){var t=this;U["a"].signin().then(function(e){200===e.code?t.setTips("签到成功！经验+"+e.point):t.setTips("不要重复签到哦")}).catch(function(){t.setTips("签到失败，可能已经签到过了")})}}),created:function(){},mounted:function(){}},D=$,F=(s("fa28"),Object(f["a"])(D,P,T,!1,null,"7454bb90",null));F.options.__file="About.vue";var A=F.exports,E=s("42ba"),R={name:"user",components:{SearchNav:r["a"],UserTab:v,UserList:x,UserRecommend:N,About:A},props:{},data:function(){return{list:[{text:"最近播放",icon:"#icon-history"},{text:"收藏夹",icon:"#icon-like"},{text:"个性推荐",icon:"#icon-listen"},{text:"关于 ",icon:"#icon-playlist"}],currentIndex:0,recommends:[]}},watch:{currentIndex:function(t){var e=this;2===t&&0===this.recommends.length&&E["a"].getRecommend().then(function(t){e.setRecommends(t)}).catch(function(t){console.log(t)})}},computed:Object(a["a"])({},Object(o["c"])(["playHistory","favoriteList","isLogin","userInfo"]),{title:function(){return this.isLogin?"".concat(this.userInfo.name):"你好呀"}}),methods:Object(a["a"])({},Object(o["d"])({setUserInfo:"SET_USER_INFO"}),Object(o["b"])(["clearPlayHistory","deleteOnePlayHistory","cancelFavorite","clearAllFavorite"]),{selectItem:function(t){this.currentIndex=t},clearHistory:function(){this.clearPlayHistory()},clearFavorite:function(){this.clearAllFavorite()},deleteOneHistory:function(t){this.deleteOnePlayHistory(t)},deleteOneFavorite:function(t){this.cancelFavorite(t)},setRecommends:function(t){var e=this,s=t.recommend;s.forEach(function(t){var s=t.id,n=t.name,i=t.album.picUrl,a=t.album.name,o=t.album.id,r=t.artists?t.artists[0].name:"";e.recommends.push({id:s,name:n,picUrl:i,album:a,albumId:o,singer:r})})}}),created:function(){var t=this;U["a"].getLoginStatus().then(function(e){if(200===e.code){var s=e.profile,n={name:s.nickname,id:s.userId,picUrl:s.avatarUrl};t.setUserInfo(n)}}).catch(function(t){console.log(t+"还没有登录")})}},H=R,M=(s("0b7b"),Object(f["a"])(H,n,i,!1,null,"ba7437ca",null));M.options.__file="index.vue";e["default"]=M.exports},"76f3":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-bar"},[s("input",{staticClass:"input",attrs:{type:"text",placeholder:t.placeholder,readonly:""},on:{click:t.clickInput}}),s("svg",{staticClass:"icon souso",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-sousuo"}})])])},i=[],a=s("cebc"),o=(s("cadf"),s("551c"),s("097d"),s("2f62")),r={name:"",components:{},props:{placeholder:{type:String,default:"搜歌手，搜歌曲"}},data:function(){return{}},watch:{},computed:Object(a["a"])({},Object(o["c"])(["showFooter","query"])),methods:{clickInput:function(){this.$router.push({path:"/search"})}}},c=r,l=(s("a007"),s("2877")),u=Object(l["a"])(c,n,i,!1,null,"3798c977",null);u.options.__file="SearchNav.vue";e["a"]=u.exports},7978:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"pop-menu",on:{click:[t.hide,function(t){t.stopPropagation()}]}},[s("div",{staticClass:"list-wrapper",on:{click:function(t){t.stopPropagation()}}},[s("Scroll",{ref:"listContent",staticClass:"list-content",attrs:{data:t.scrollData}},[s("div",{staticClass:"item-wrapper"},[s("div",{staticClass:"header  item border-bottom",on:{click:t.play}},[t._v("\n            歌曲："+t._s(t.song.name)+"\n          ")]),s("div",{staticClass:"next-play item border-bottom",on:{click:t.playNext}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-play-circle"}})]),t._v("下一首播放\n          ")]),s("div",{staticClass:"like item border-bottom",on:{click:function(e){t.toggleFavorite(t.song)}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":t.getFavoriteIcon(t.song)}})]),t._v("喜欢\n          ")]),s("div",{staticClass:"singer item border-bottom",on:{click:function(e){t.toSinger(t.song)}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-user"}})]),t._v("歌手："+t._s(t.song.singer)+"\n          ")]),s("div",{staticClass:"singer item border-bottom"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-album"}})]),t._v("专辑："+t._s(t.song.album)+"\n          ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDelete,expression:"showDelete"}],staticClass:"delete item border-bottom",on:{click:function(e){t.deleteOne(t.song)}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-close"}})]),t._v("删除\n          ")])])])],1)])])},i=[],a=s("cebc"),o=s("3ce5"),r=s("0712"),c=s("2f62"),l={name:"popMenu",components:{Scroll:o["a"]},mixins:[r["a"]],props:{showDelete:{type:Boolean,default:!1}},data:function(){return{isShow:!1,song:[]}},watch:{},computed:{scrollData:function(){var t=[this.song];return t}},methods:Object(a["a"])({},Object(c["b"])(["setTips"]),{show:function(t){this.isShow=!0,this.song=t},hide:function(){this.isShow=!1},playNext:function(){this.$emit("nextPlay",this.song),this.setTips("已经将一首歌曲添加到播放队列")},play:function(){this.$emit("playNow",this.song)},deleteOne:function(t){this.hide(),this.$emit("deleteOne",t),this.setTips("已经删除一首歌曲啦")}}),created:function(){},mounted:function(){}},u=l,d=(s("cf63"),s("2877")),f=Object(d["a"])(u,n,i,!1,null,"3221c0c0",null);f.options.__file="PopMenu.vue";e["a"]=f.exports},"798f":function(t,e,s){},"7ded":function(t,e,s){"use strict";var n=s("d225"),i=s("b0b4"),a=s("e1d2"),o=function(){function t(){Object(n["a"])(this,t)}return Object(i["a"])(t,null,[{key:"login",value:function(t,e){return Object(a["a"])("login",{params:{phone:t,password:e}})}},{key:"getLoginStatus",value:function(){return Object(a["a"])("loginStatus")}},{key:"refreshLogin",value:function(){return Object(a["a"])("loginRefresh")}},{key:"logout",value:function(){return Object(a["a"])("logout")}},{key:"signin",value:function(){return Object(a["a"])("signin")}}]),t}();e["a"]=o},"8b5b":function(t,e,s){},a007:function(t,e,s){"use strict";var n=s("65fe"),i=s.n(n);i.a},b2c8:function(t,e,s){},cf63:function(t,e,s){"use strict";var n=s("e34f"),i=s.n(n);i.a},cfd3:function(t,e,s){},d030:function(t,e,s){"use strict";var n=s("cfd3"),i=s.n(n);i.a},e34f:function(t,e,s){},f3e2:function(t,e,s){"use strict";var n=s("15a5"),i=s.n(n);i.a},fa28:function(t,e,s){"use strict";var n=s("b2c8"),i=s.n(n);i.a}}]);
//# sourceMappingURL=user.4290deff.js.map