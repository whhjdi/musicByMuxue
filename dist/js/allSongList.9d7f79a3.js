(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["allSongList"],{"1ef8":function(t,s,e){},"25f8":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"allSongList"},[e("header",{staticClass:"header border-bottom"},[e("svg",{staticClass:"icon i-back",attrs:{"aria-hidden":"true"},on:{click:t.goBack}},[e("use",{attrs:{"xlink:href":"#icon-arrowleft"}})]),e("h2",{staticClass:"title"},[t._v("歌单")])]),e("Scroll",{ref:"list",staticClass:"scroll",attrs:{data:t.playLists,pullup:t.pullup},on:{scrollToEnd:t.loadMore}},[e("div",[e("div",{staticClass:"nav"},[e("span",{staticClass:"catText border",on:{click:t.getCatList}},[t._v(t._s(t.catText)+"\n          "),e("svg",{staticClass:"icon i-back",attrs:{"aria-hidden":"true"},on:{click:t.goBack}},[e("use",{attrs:{"xlink:href":"#icon-right"}})])]),e("div",{staticClass:"sort"},[e("span",{staticClass:"new",class:{active:"new"===t.order},on:{click:t.orderNew}},[t._v("最新")]),t._v("|\n          "),e("span",{staticClass:"hot",class:{active:"hot"===t.order},on:{click:t.orderHot}},[t._v("最热")])])]),e("ul",{staticClass:"list-wrapper"},t._l(t.playLists,(function(s,i){return e("li",{key:i,staticClass:"list",on:{click:function(e){return t.handleSongList(s)}}},[e("img",{staticClass:"pic",attrs:{src:s.coverImgUrl,alt:""}}),e("div",{staticClass:"name"},[t._v(t._s(s.name))]),e("div",{staticClass:"number"},[e("svg",{staticClass:"icon i-count",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-music"}})]),e("div",{staticClass:"count"},[t._v(t._s(t._f("setNumber")(s.playCount)))])]),e("div",{staticClass:"author"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-user"}})]),e("span",{staticClass:"nickname"},[t._v(t._s(s.creator.nickname))])])])})),0)])]),e("cat-list",{ref:"catList",attrs:{catList:t.catList},on:{selectItem:t.selectCat,selectAll:t.selectAll}}),e("router-view",{ref:"musicList",attrs:{title:t.title,picUrl:t.picUrl,songs:t.songs,id:t.discId},on:{select:t.selectItem,play:t.playAll}})],1)},a=[],r=(e("673e"),e("ac6a"),e("ade3")),c=e("42ba"),n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"slide-up"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showCatList,expression:"showCatList"}],staticClass:"allSongList"},[e("header",{staticClass:"header border-bottom"},[e("svg",{staticClass:"icon i-back",attrs:{"aria-hidden":"true"},on:{click:t.goBack}},[e("use",{attrs:{"xlink:href":"#icon-arrowleft"}})]),e("h2",{staticClass:"title"},[t._v("歌单分类")])]),e("Scroll",{ref:"list",staticClass:"scroll",attrs:{data:t.catList}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"all border",on:{click:t.selectAll}},[t._v("全部歌单")]),e("ul",{staticClass:"list-wrapper"},t._l(t.catList,(function(s,i){return e("li",{key:i,staticClass:"list"},[e("div",{staticClass:"sub"},[t._v(t._s(s.name))]),e("ul",{staticClass:"sub-wrapper border-bottom"},t._l(s[i],(function(s){return e("li",{key:s.name,staticClass:"sub-item",on:{click:function(e){return t.selectItem(s)}}},[t._v("\n                "+t._s(s.name)+"\n              ")])})),0)])})),0)])])],1)])},o=[],l=e("3ce5"),u=e("0712"),h={name:"",components:{Scroll:l["a"]},mixins:[u["b"]],props:{catList:{type:Array,default:()=>[]}},data(){return{showCatList:!1}},watch:{},computed:{},methods:{show(){this.showCatList=!0},hide(){this.showCatList=!1},goBack(){this.hide()},selectItem(t){this.$emit("selectItem",t),this.hide()},selectAll(){this.$emit("selectAll"),this.hide()}},created(){},mounted(){}},d=h,f=(e("d069"),e("2877")),p=Object(f["a"])(d,n,o,!1,null,"5b230f78",null),g=p.exports,m=e("5880");function b(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);s&&(i=i.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,i)}return e}function v(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?b(Object(e),!0).forEach((function(s){Object(r["a"])(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):b(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var C={name:"allSongList",components:{Scroll:l["a"],CatList:g},mixins:[u["d"],u["b"]],filters:{setNumber(t){return t<1e4?"<1万":`${Math.ceil(t/1e4)}万`}},props:{},data(){return{pullup:!0,playLists:[],before:0,hasMore:!0,catText:"全部",catList:[],offset:0,order:"hot",list:[],songs:[]}},watch:{order(t){this.getSongList(this.catText,this.offset,t)}},computed:{title(){return this.list.name},picUrl(){return this.list.coverImgUrl},discId(){return this.list.id}},methods:v({},Object(m["mapMutations"])({setShowFooter:"SET_SHOW_FOOTER"}),{loadMore(){this.hasMore&&c["a"].getAllSongList(this.catText,this.offset,this.order).then(t=>{let s=t.playlists;this.offset=this.offset+10,this.hasMore=t.more,this.playLists=this.playLists.concat(s)})},goBack(){this.$router.go(-1)},getCatList(){c["a"].getCatList().then(t=>{this.categories=Object.values(t.categories),this.sub=t.sub,this.$refs.catList.show();let s=[],e=t.sub,i=t.categories,a=Object.values(i);a.forEach((t,i)=>{let a={name:t};a[i]=[],e.forEach(t=>{t.category===i&&a[i].push(t)}),s.push(a)}),this.catList=s})},getSongList(t,s,e){c["a"].getAllSongList(t,s,e).then(t=>{let s=t.playlists;this.offset=this.offset+10,this.playLists=s,this.hasMore=t.more})},orderNew(){this.order="new"},orderHot(){this.order="hot"},handleSongList(t){t.id&&this.$router.push({path:`/songslist/${t.id}`}),c["a"].getDisc(t.id).then(t=>{this.setList(t)})},selectCat(t){this.catText=t.name,this.offset=0,this.getSongList(t.name,this.offset,this.order)},selectAll(){this.catText="全部",this.offset=0,this.getSongList(this.catText,this.offset,this.order)}}),created(){this.setShowFooter(!1),this.getSongList(this.catText,this.offset,this.order)},mounted(){}},w=C,L=(e("3d5f"),Object(f["a"])(w,i,a,!1,null,"d14cd48c",null));s["default"]=L.exports},"386b":function(t,s,e){var i=e("5ca1"),a=e("79e5"),r=e("be13"),c=/"/g,n=function(t,s,e,i){var a=String(r(t)),n="<"+s;return""!==e&&(n+=" "+e+'="'+String(i).replace(c,"&quot;")+'"'),n+">"+a+"</"+s+">"};t.exports=function(t,s){var e={};e[t]=s(n),i(i.P+i.F*a((function(){var s=""[t]('"');return s!==s.toLowerCase()||s.split('"').length>3})),"String",e)}},"3d5f":function(t,s,e){"use strict";var i=e("f792"),a=e.n(i);a.a},"42ba":function(t,s,e){"use strict";var i=e("e1d2");class a{static getBanner(){return Object(i["a"])("banner")}static getRecommend(){return Object(i["a"])("recommend")}static getRecommendSongs(){return Object(i["a"])("personalized",{params:{limit:6}})}static getNewSong(){return Object(i["a"])("newSong",{})}static getDisc(t){return Object(i["a"])("disc",{params:{id:t}})}static getNewDisc(){return Object(i["a"])("newDisc",{params:{order:"new",limit:6}})}static getResource(){return Object(i["a"])("resource",{params:{limit:6}})}static getAllSongList(t,s,e){return Object(i["a"])("newDisc",{params:{limit:10,cat:t,offset:s,order:e}})}static getCatList(){return Object(i["a"])("catList")}static getComment(t,s){return Object(i["a"])("comment",{params:{id:t,offset:s}})}}s["a"]=a},"673e":function(t,s,e){"use strict";e("386b")("sub",(function(t){return function(){return t(this,"sub","","")}}))},d069:function(t,s,e){"use strict";var i=e("1ef8"),a=e.n(i);a.a},f792:function(t,s,e){}}]);
//# sourceMappingURL=allSongList.9d7f79a3.js.map