(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"02f4":function(t,e,n){var i=n("4588"),r=n("be13");t.exports=function(t){return function(e,n){var s,o,c=String(r(e)),a=i(n),l=c.length;return a<0||a>=l?t?"":void 0:(s=c.charCodeAt(a),s<55296||s>56319||a+1===l||(o=c.charCodeAt(a+1))<56320||o>57343?t?c.charAt(a):s:t?c.slice(a,a+2):o-56320+(s-55296<<10)+65536)}}},"14f4":function(t,e,n){},1654:function(t,e,n){"use strict";var i=n("71c1")(!0);n("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},"16c0":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"home",staticClass:"home"},[n("nav",[n("h2",{staticClass:"title"},[t._v("沐雪music")]),n("search-bar")],1),n("div",{staticClass:"scroll-wrapper"},[n("Scroll",{ref:"scrolls",staticClass:"scroll",attrs:{data:t.recommendSongs}},[n("div",{staticClass:"recommend"},[this.banners&&this.banners.length?n("div",{staticClass:"slides"},[n("slide",{attrs:{autoPlay:!0,interval:3e3,loop:!0}},t._l(t.banners,function(t){return n("div",{key:t.imageUrl,staticClass:"slide-item"},[n("img",{staticClass:"slide-img",attrs:{src:t.imageUrl,alt:""}})])}),0)],1):t._e(),n("div",{staticClass:"recommendSongs"},[n("recommend-list",{attrs:{list:t.recommendSongs},on:{setDiscList:t.handleDisc}})],1),n("div",{staticClass:"newSongs"},[n("recommend-list",{attrs:{list:t.newDiscs,title:"最新歌单"},on:{setDiscList:t.handleDisc}})],1)])])],1),n("router-view",{ref:"musicList",attrs:{title:t.title,picUrl:t.picUrl,songs:t.songs,id:t.discId},on:{select:t.selectItem,play:t.playAll}})],1)},r=[],s=n("a745"),o=n.n(s);function c(t){if(o()(t))return t}var a=n("5d73"),l=n.n(a);function u(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var o,c=l()(t);!(i=(o=c.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(a){r=!0,s=a}finally{try{i||null==c["return"]||c["return"]()}finally{if(r)throw s}}return n}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(t,e){return c(t)||u(t,e)||f()}n("ac6a"),n("5df3"),n("7f7f");var h=n("cebc"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"slide",staticClass:"slide"},[n("div",{ref:"slideGroup",staticClass:"slide-group"},[t._t("default")],2),n("div",{staticClass:"dots"},t._l(t.dots,function(e,i){return n("span",{key:i,staticClass:"dot",class:{active:t.currentIndex===i}})}),0)])},p=[],v=(n("c5f6"),n("1fba")),g={name:"",components:{},props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:4e3}},data:function(){return{dots:[],currentIndex:0}},watch:{},computed:{},methods:{initDots:function(){this.dots=new Array(this.children.length)},setSlideWidth:function(t){this.children=this.$refs.slideGroup.children;for(var e=0,n=this.$refs.slide.clientWidth,i=0;i<this.children.length;i++){var r=this.children[i];r.style.width=n+"px",e+=n}this.loop&&!t&&(e+=2*n),this.$refs.slideGroup.style.width=e+"px"},initSlide:function(){this.slideScroll=new v["a"](this.$refs.slide,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:.3,speed:400},bounce:!0}),this.onScrollEnd(),this.onTouchEnd(),this.onBeforeScrollStart()},onScrollEnd:function(){var t=this;this.slideScroll.on("scrollEnd",function(){var e=t.slideScroll.getCurrentPage().pageX;t.currentIndex=e,t.autoPlay&&t.play()})},onTouchEnd:function(){var t=this;this.slideScroll.on("touchEnd",function(){t.autoPlay&&t.play()})},onBeforeScrollStart:function(){var t=this;this.slideScroll.on("beforeScrollStart",function(){t.autoPlay&&clearTimeout(t.timer)})},play:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.slideScroll.next()},this.interval)}},created:function(){},mounted:function(){var t=this;setTimeout(function(){t.setSlideWidth(),t.initDots(),t.initSlide(),t.autoPlay&&t.play()},20),window.addEventListener("resize",function(){t.slideScroll&&(t.setSlideWidth(!0),t.slideScroll.refresh())})}},y=g,S=(n("85f1"),n("2877")),b=Object(S["a"])(y,m,p,!1,null,"638bec07",null),C=b.exports,L=n("42ba"),w=n("3ce5"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend"},[n("h2",{staticClass:"title",on:{click:t.handleClick}},[n("span",[t._v(t._s(t.title))]),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-right"}})])]),n("ul",{staticClass:"list-wrapper"},t._l(t.list,function(e){return n("li",{key:e.id,staticClass:"list",on:{click:function(n){return t.selectItem(e)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl?e.picUrl:e.coverImgUrl,expression:"item.picUrl ? item.picUrl : item.coverImgUrl"}],staticClass:"pic",attrs:{alt:""}}),n("p",{staticClass:"name"},[t._v(t._s(e.name))]),n("div",{staticClass:"number"},[n("svg",{staticClass:"icon i-count",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-music"}})]),n("div",{staticClass:"count"},[t._v(t._s(t._f("setCount")(e.playCount)))])])])}),0)])},x=[],k={name:"",components:{},filters:{setCount:function(t){return t<1e4?"<1万":"".concat(Math.ceil(t/1e4),"万")}},props:{list:{type:Array,default:function(){return[]}},title:{type:String,default:"推荐歌单"}},data:function(){return{}},watch:{},computed:{},methods:{handleClick:function(){this.$router.push({path:"/songslist"})},selectItem:function(t){this.$emit("setDiscList",t)}},created:function(){},mounted:function(){}},O=k,A=(n("e911"),Object(S["a"])(O,_,x,!1,null,"71d2b1da",null)),j=A.exports,D=n("2f62"),T=n("76f3"),I=n("0712"),E={name:"home",components:{Slide:C,Scroll:w["a"],RecommendList:j,SearchBar:T["a"]},mixins:[I["d"]],props:{},data:function(){return{banners:[],recommendSongs:[],newDiscs:[],songs:[],list:[]}},watch:{},computed:Object(h["a"])({},Object(D["c"])(["isLogin"]),{title:function(){return this.list.name},picUrl:function(){return this.list.coverImgUrl},discId:function(){return this.list.id},allData:function(){return this.banners.concat(this.newDiscs,this.recommendSongs)}}),methods:Object(h["a"])({},Object(D["d"])({setLoading:"SET_LOADING"}),{handleDisc:function(t){var e=this;this.$router.push({path:"/home/".concat(t.id)}),this.setLoading(!0),L["a"].getDisc(t.id).then(function(t){e.setLoading(!1),e.setList(t)})},getAllRecommend:function(){var t,e=L["a"].getBanner();t=this.isLogin?L["a"].getResource():L["a"].getRecommendSongs();var n=L["a"].getNewDisc();return Promise.all([e,t,n])},setAllRecommend:function(t){var e=d(t,3),n=e[0],i=e[1],r=e[2];this.setBanner(n),this.setRecommendSongs(i),this.setNewDisc(r)},setBanner:function(t){this.banners=t.banners},setRecommendSongs:function(t){this.isLogin?this.recommendSongs=t.recommend:this.recommendSongs=t.result},setNewDisc:function(t){this.newDiscs=t.playlists}}),activated:function(){this.$refs.scrolls.refresh()},created:function(){var t=this;this.setLoading(!0),this.getAllRecommend().then(function(e){t.setLoading(!1),t.setAllRecommend(e)})}},R=E,P=(n("3926"),Object(S["a"])(R,i,r,!1,null,"27ed8b60",null));e["default"]=P.exports},"1af6":function(t,e,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},"30f1":function(t,e,n){"use strict";var i=n("b8e3"),r=n("63b6"),s=n("9138"),o=n("35e8"),c=n("481b"),a=n("8f60"),l=n("45f2"),u=n("53e2"),f=n("5168")("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",m="keys",p="values",v=function(){return this};t.exports=function(t,e,n,g,y,S,b){a(n,e,g);var C,L,w,_=function(t){if(!d&&t in A)return A[t];switch(t){case m:return function(){return new n(this,t)};case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",k=y==p,O=!1,A=t.prototype,j=A[f]||A[h]||y&&A[y],D=j||_(y),T=y?k?_("entries"):D:void 0,I="Array"==e&&A.entries||j;if(I&&(w=u(I.call(new t)),w!==Object.prototype&&w.next&&(l(w,x,!0),i||"function"==typeof w[f]||o(w,f,v))),k&&j&&j.name!==p&&(O=!0,D=function(){return j.call(this)}),i&&!b||!d&&!O&&A[f]||o(A,f,D),c[e]=D,c[x]=v,y)if(C={values:k?D:_(p),keys:S?D:_(m),entries:T},b)for(L in C)L in A||s(A,L,C[L]);else r(r.P+r.F*(d||O),e,C);return C}},3926:function(t,e,n){"use strict";var i=n("14f4"),r=n.n(i);r.a},"40c3":function(t,e,n){var i=n("6b4c"),r=n("5168")("toStringTag"),s="Arguments"==i(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),r))?n:s?i(e):"Object"==(c=i(e))&&"function"==typeof e.callee?"Arguments":c}},4127:function(t,e,n){},"42ba":function(t,e,n){"use strict";var i=n("d225"),r=n("b0b4"),s=n("e1d2"),o=function(){function t(){Object(i["a"])(this,t)}return Object(r["a"])(t,null,[{key:"getBanner",value:function(){return Object(s["a"])("banner")}},{key:"getRecommend",value:function(){return Object(s["a"])("recommend")}},{key:"getRecommendSongs",value:function(){return Object(s["a"])("personalized",{params:{limit:6}})}},{key:"getNewSong",value:function(){return Object(s["a"])("newSong",{})}},{key:"getDisc",value:function(t){return Object(s["a"])("disc",{params:{id:t}})}},{key:"getNewDisc",value:function(){return Object(s["a"])("newDisc",{params:{order:"new",limit:6}})}},{key:"getResource",value:function(){return Object(s["a"])("resource",{params:{limit:6}})}},{key:"getAllSongList",value:function(t,e,n){return Object(s["a"])("newDisc",{params:{limit:10,cat:t,offset:e,order:n}})}},{key:"getCatList",value:function(){return Object(s["a"])("catList")}},{key:"getComment",value:function(t,e){return Object(s["a"])("comment",{params:{id:t,offset:e}})}}]),t}();e["a"]=o},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},"481b":function(t,e){t.exports={}},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},"53e2":function(t,e,n){var i=n("07e3"),r=n("241e"),s=n("5559")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},"5d73":function(t,e,n){t.exports=n("469f")},"5df3":function(t,e,n){"use strict";var i=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},"65fe":function(t,e,n){},"6c1c":function(t,e,n){n("c367");for(var i=n("e53d"),r=n("35e8"),s=n("481b"),o=n("5168")("toStringTag"),c="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<c.length;a++){var l=c[a],u=i[l],f=u&&u.prototype;f&&!f[o]&&r(f,o,l),s[l]=s.Array}},"71c1":function(t,e,n){var i=n("3a38"),r=n("25eb");t.exports=function(t){return function(e,n){var s,o,c=String(r(e)),a=i(n),l=c.length;return a<0||a>=l?t?"":void 0:(s=c.charCodeAt(a),s<55296||s>56319||a+1===l||(o=c.charCodeAt(a+1))<56320||o>57343?t?c.charAt(a):s:t?c.slice(a,a+2):o-56320+(s-55296<<10)+65536)}}},"76f3":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-bar"},[n("input",{staticClass:"input",attrs:{type:"text",placeholder:t.placeholder,readonly:""},on:{click:t.clickInput}}),n("svg",{staticClass:"icon souso",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-sousuo"}})])])},r=[],s=n("cebc"),o=n("2f62"),c={name:"",components:{},props:{placeholder:{type:String,default:"搜歌手，搜歌曲"}},data:function(){return{}},watch:{},computed:Object(s["a"])({},Object(o["c"])(["showFooter","query"])),methods:{clickInput:function(){this.$router.push({path:"/search"})}}},a=c,l=(n("a007"),n("2877")),u=Object(l["a"])(a,i,r,!1,null,"3798c977",null);e["a"]=u.exports},"7cd6":function(t,e,n){var i=n("40c3"),r=n("5168")("iterator"),s=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||s[i(t)]}},"7d7b":function(t,e,n){var i=n("e4ae"),r=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},8436:function(t,e){t.exports=function(){}},"85f1":function(t,e,n){"use strict";var i=n("4127"),r=n.n(i);r.a},"8f60":function(t,e,n){"use strict";var i=n("a159"),r=n("aebd"),s=n("45f2"),o={};n("35e8")(o,n("5168")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(o,{next:r(1,n)}),s(t,e+" Iterator")}},a007:function(t,e,n){"use strict";var i=n("65fe"),r=n.n(i);r.a},a745:function(t,e,n){t.exports=n("f410")},c367:function(t,e,n){"use strict";var i=n("8436"),r=n("50ed"),s=n("481b"),o=n("36c3");t.exports=n("30f1")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},e911:function(t,e,n){"use strict";var i=n("f19a"),r=n.n(i);r.a},f19a:function(t,e,n){},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray}}]);
//# sourceMappingURL=home.b65ecffd.js.map