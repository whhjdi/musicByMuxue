(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{"21c4":function(t,e,s){"use strict";var r=s("f4da"),i=s.n(r);i.a},"22e2":function(t,e,s){},"23f1":function(t,e,s){},"37f7":function(t,e,s){},"42ba":function(t,e,s){"use strict";var r=s("e1d2");class i{static getBanner(){return Object(r["a"])("banner")}static getRecommend(){return Object(r["a"])("recommend")}static getRecommendSongs(){return Object(r["a"])("personalized",{params:{limit:6}})}static getNewSong(){return Object(r["a"])("newSong",{})}static getDisc(t){return Object(r["a"])("disc",{params:{id:t}})}static getNewDisc(){return Object(r["a"])("newDisc",{params:{order:"new",limit:6}})}static getResource(){return Object(r["a"])("resource",{params:{limit:6}})}static getAllSongList(t,e,s){return Object(r["a"])("newDisc",{params:{limit:10,cat:t,offset:e,order:s}})}static getCatList(){return Object(r["a"])("catList")}static getComment(t,e){return Object(r["a"])("comment",{params:{id:t,offset:e}})}}e["a"]=i},"465c":function(t,e,s){"use strict";var r=s("e116"),i=s.n(r);i.a},6534:function(t,e,s){"use strict";var r=s("22e2"),i=s.n(r);i.a},7368:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user"},[s("div",{staticClass:"header"},[s("h2",{staticClass:"title"},[t._v(t._s(t.title))]),s("search-nav")],1),s("div",{staticClass:"tab-wrapper"},[s("user-tab",{attrs:{list:t.list,currentIndex:t.currentIndex},on:{select:t.selectItem}})],1),s("div",{staticClass:"content"},[0==t.currentIndex?s("div",{staticClass:"play-history-wrapper"},[s("user-list",{attrs:{userList:t.playHistory,showDelete:!0,deleteText:"清空历史"},on:{clear:t.clearHistory,deleteOne:t.deleteOneHistory}})],1):1==t.currentIndex?s("div",{staticClass:"like-wrapper"},[s("user-list",{attrs:{userList:t.favoriteList},on:{clear:t.clearFavorite,deleteOne:t.deleteOneFavorite}})],1):2==t.currentIndex?s("div",{staticClass:"random-wrapper"},[s("UserRecommend",{attrs:{userList:t.recommends}})],1):s("div",{staticClass:"about-wrapper"},[s("About")],1)])])},i=[],n=(s("ac6a"),s("ade3")),a=s("5880"),o=s("76f3"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"tab"},t._l(t.list,(function(e,r){return s("li",{key:e.text,staticClass:"item",class:{active:t.currentIndex===r},on:{click:function(e){return t.selectItem(r)}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":e.icon}})]),s("div",{staticClass:"text"},[t._v(t._s(e.text))])])})),0)},l=[],u={name:"",components:{},props:{list:{type:Array,default:()=>[]},currentIndex:{type:Number,default:0}},data(){return{}},watch:{},computed:{},methods:{selectItem(t){this.$emit("select",t)}},created(){},mounted(){}},p=u,d=(s("dfbe"),s("2877")),m=Object(d["a"])(p,c,l,!1,null,"3158c7a8",null),f=m.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-list"},[s("Scroll",{ref:"list",staticClass:"wrapper",attrs:{data:t.userList,"probe-type":t.probeType,listenscroll:t.listenScroll}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.userList&&t.userList.length>0,expression:"userList && userList.length > 0"}],staticClass:"list-wrapper"},[s("div",{staticClass:"control-wrapper border-bottom"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-play-circle"}})]),s("span",{staticClass:"desc",on:{click:t.playAll}},[t._v("播放全部（共"+t._s(t.userList.length)+"首）")]),s("div",{staticClass:"clear",on:{click:function(e){return e.stopPropagation(),t.confirm(e)}}},[t._v(t._s(t.deleteText))])]),s("ul",{ref:"wrapper",staticClass:"song-list"},t._l(t.userList,(function(e,r){return s("li",{key:e.id,staticClass:"song border-bottom",on:{click:function(s){return t.selectItem(e)}}},[s("div",{staticClass:"number"},[t._v(t._s(r+1))]),s("div",{staticClass:"right"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"singer"},[t._v("\n              "+t._s(e.singer)+"\n              "),s("span",{staticClass:"album"},[t._v("-"+t._s(e.album))])])]),s("svg",{staticClass:"icon i-switch",attrs:{"aria-hidden":"true"},on:{click:function(s){return s.stopPropagation(),t.showPopOver(e)}}},[s("use",{attrs:{"xlink:href":"#icon-switch"}})])])})),0)]),s("h2",{directives:[{name:"show",rawName:"v-show",value:0===t.userList.length,expression:"userList.length === 0"}],staticClass:"void"},[t._v(t._s(t.tips))])]),s("pop-menu",{ref:"popMenu",attrs:{showDelete:t.showDelete},on:{nextPlay:t.nextPlay,playNow:t.nowPlay,deleteOne:t.deleteOne}}),s("Confirm",{ref:"confirm",attrs:{text:"确定要清空所有播放记录吗"},on:{deleteAll:t.clear}})],1)},b=[],v=s("3ce5"),O=s("7978"),g=s("a32c"),y=s("0712");function w(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function j(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?w(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var C={name:"userList",components:{Scroll:v["a"],PopMenu:O["a"],Confirm:g["a"]},mixins:[y["c"],y["e"]],props:{userList:{type:Array,default:()=>[]},showDelete:{type:Boolean,default:!1},deleteText:{type:String,default:"清空收藏"},tips:{type:String,default:"哈哈哈，这里是空的呢"}},data(){return{}},watch:{},computed:j({},Object(a["mapGetters"])(["playList"])),methods:j({},Object(a["mapActions"])(["setTips"]),{confirm(){this.$refs.confirm.show()},clear(){this.$emit("clear"),this.$refs.confirm.hide(),this.setTips("已清空")},deleteOne(t){this.$emit("deleteOne",t)}})},_=C,P=(s("465c"),Object(d["a"])(_,h,b,!1,null,"aac9063c",null)),x=P.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-list"},[s("Scroll",{directives:[{name:"show",rawName:"v-show",value:t.userList,expression:"userList"}],ref:"list",staticClass:"wrapper",attrs:{data:t.userList,"probe-type":t.probeType,listenscroll:t.listenScroll}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"list-wrapper"},[s("div",{staticClass:"control-wrapper border-bottom"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-play-circle"}})]),s("span",{staticClass:"desc",on:{click:t.playAll}},[t._v("播放全部（共"+t._s(t.userList.length)+"首）")])]),s("ul",{ref:"wrapper",staticClass:"song-list"},t._l(t.userList,(function(e,r){return s("li",{key:r,staticClass:"song border-bottom",on:{click:function(s){return t.selectItem(e)}}},[s("div",{staticClass:"number"},[t._v(t._s(r+1))]),s("div",{staticClass:"right"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"singer"},[t._v("\n              "+t._s(e.singer)+"\n              "),s("span",{staticClass:"album"},[t._v("-"+t._s(e.album))])])]),s("svg",{staticClass:"icon i-switch",attrs:{"aria-hidden":"true"},on:{click:function(s){return s.stopPropagation(),t.showPopOver(e)}}},[s("use",{attrs:{"xlink:href":"#icon-switch"}})])])})),0)]),s("h2",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],staticClass:"void"},[s("span",{staticClass:"toLogin",on:{click:t.toLogin}},[t._v("登录")]),t._v("才能找到你喜欢的歌曲呢\n    ")])]),s("pop-menu",{ref:"popMenu",attrs:{showDelete:!1},on:{nextPlay:t.nextPlay,playNow:t.nowPlay}})],1)},k=[];function S(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function D(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?S(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):S(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var I={name:"userList",components:{Scroll:v["a"],PopMenu:O["a"]},mixins:[y["c"],y["e"]],props:{userList:{type:Array,default:()=>[]}},data(){return{}},watch:{},computed:D({},Object(a["mapGetters"])(["isLogin"])),methods:{toLogin(){this.$router.push({path:"/login"})}}},E=I,N=(s("a78e"),Object(d["a"])(E,L,k,!1,null,"62451886",null)),T=N.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[t.isLogin?s("div",{staticClass:"header"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.userInfo.picUrl,expression:"userInfo.picUrl"}],staticClass:"pic",attrs:{alt:""}}),s("h1",{staticClass:"name"},[t._v(t._s(t.userInfo.name))]),s("p",{staticClass:"id"},[t._v(t._s(t.userInfo.id))]),s("div",{staticClass:"signin",on:{click:t.signin}},[t._v("签到")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"toLogout",on:{click:t.toLogout}},[t._v("退出登录")])]):s("div",{staticClass:"content"},[s("h2",{staticClass:"text"},[t._v("您还没有登录，赶快去登录吧")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],staticClass:"toLogin",on:{click:t.toLogin}},[t._v("登录")])])])},A=[],U=s("7ded");function F(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function R(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?F(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):F(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var H={name:"",components:{},props:{},data(){return{}},watch:{},computed:R({},Object(a["mapGetters"])(["userInfo","isLogin"])),methods:R({},Object(a["mapMutations"])({setUserInfo:"SET_USER_INFO"}),{},Object(a["mapActions"])(["setTips"]),{toLogin(){this.$router.push({path:"/login"})},toLogout(){U["a"].logout(),this.setUserInfo(null),this.setTips("已为您退出登录")},signin(){U["a"].signin().then(t=>{200===t.code?this.setTips("签到成功！经验+"+t.point):this.setTips("不要重复签到哦")}).catch(()=>{this.setTips("签到失败，可能已经签到过了")})}}),created(){},mounted(){}},M=H,G=(s("fa28"),Object(d["a"])(M,$,A,!1,null,"7454bb90",null)),z=G.exports,B=s("42ba");function J(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function q(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?J(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):J(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var K={name:"user",components:{SearchNav:o["a"],UserTab:f,UserList:x,UserRecommend:T,About:z},props:{},data(){return{list:[{text:"最近播放",icon:"#icon-history"},{text:"收藏夹",icon:"#icon-like"},{text:"个性推荐",icon:"#icon-listen"},{text:"关于 ",icon:"#icon-playlist"}],currentIndex:0,recommends:[]}},watch:{currentIndex(t){2===t&&0===this.recommends.length&&B["a"].getRecommend().then(t=>{this.setRecommends(t)}).catch(t=>{console.log(t)})}},computed:q({},Object(a["mapGetters"])(["playHistory","favoriteList","isLogin","userInfo"]),{title(){return this.isLogin?`${this.userInfo.name}`:"你好呀"}}),methods:q({},Object(a["mapMutations"])({setUserInfo:"SET_USER_INFO",setLoading:"SET_LOADING"}),{},Object(a["mapActions"])(["clearPlayHistory","deleteOnePlayHistory","cancelFavorite","clearAllFavorite"]),{selectItem(t){this.currentIndex=t},clearHistory(){this.clearPlayHistory()},clearFavorite(){this.clearAllFavorite()},deleteOneHistory(t){this.deleteOnePlayHistory(t)},deleteOneFavorite(t){this.cancelFavorite(t)},setRecommends(t){let e=t.recommend;e.forEach(t=>{let e=t.id,s=t.name,r=t.album.picUrl,i=t.album.name,n=t.album.id,a=t.artists?t.artists[0].name:"";this.recommends.push({id:e,name:s,picUrl:r,album:i,albumId:n,singer:a})})}}),created(){U["a"].getLoginStatus().then(t=>{if(200===t.code){let e=t.profile,s={name:e.nickname,id:e.userId,picUrl:e.avatarUrl};this.setUserInfo(s)}}).catch(t=>{console.log(t+"还没有登录")})}},Q=K,V=(s("21c4"),Object(d["a"])(Q,r,i,!1,null,"00c5040a",null));e["default"]=V.exports},"76f3":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-bar"},[s("input",{staticClass:"input",attrs:{type:"text",placeholder:t.placeholder,readonly:""},on:{click:t.clickInput}}),s("svg",{staticClass:"icon souso",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-sousuo"}})])])},i=[],n=(s("ac6a"),s("ade3")),a=s("5880");function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var l={name:"",components:{},props:{placeholder:{type:String,default:"搜歌手，搜歌曲"}},data(){return{}},watch:{},computed:c({},Object(a["mapGetters"])(["showFooter","query"])),methods:{clickInput(){this.$router.push({path:"/search"})}}},u=l,p=(s("6534"),s("2877")),d=Object(p["a"])(u,r,i,!1,null,"629a2112",null);e["a"]=d.exports},7978:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"pop-menu",on:{click:[t.hide,function(t){t.stopPropagation()}]}},[s("div",{staticClass:"list-wrapper",on:{click:function(t){t.stopPropagation()}}},[s("Scroll",{ref:"listContent",staticClass:"list-content",attrs:{data:t.scrollData}},[s("div",{staticClass:"item-wrapper"},[s("div",{staticClass:"header  item border-bottom",on:{click:t.play}},[t._v("\n            歌曲："+t._s(t.song.name)+"\n          ")]),s("div",{staticClass:"next-play item border-bottom",on:{click:t.playNext}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-play-circle"}})]),t._v("下一首播放\n          ")]),s("div",{staticClass:"like item border-bottom",on:{click:function(e){return t.toggleFavorite(t.song)}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":t.getFavoriteIcon(t.song)}})]),t._v("喜欢\n          ")]),s("div",{staticClass:"singer item border-bottom",on:{click:function(e){return t.toSinger(t.song)}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-user"}})]),t._v("歌手："+t._s(t.song.singer)+"\n          ")]),s("div",{staticClass:"singer item border-bottom"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-album"}})]),t._v("专辑："+t._s(t.song.album)+"\n          ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDelete,expression:"showDelete"}],staticClass:"delete item border-bottom",on:{click:function(e){return t.deleteOne(t.song)}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-close"}})]),t._v("删除\n          ")])])])],1)])])},i=[],n=(s("ac6a"),s("ade3")),a=s("3ce5"),o=s("0712"),c=s("5880");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var p={name:"popMenu",components:{Scroll:a["a"]},mixins:[o["a"]],props:{showDelete:{type:Boolean,default:!1}},data(){return{isShow:!1,song:[]}},watch:{},computed:{scrollData(){let t=[this.song];return t}},methods:u({},Object(c["mapActions"])(["setTips"]),{show(t){this.isShow=!0,this.song=t},hide(){this.isShow=!1},playNext(){this.$emit("nextPlay",this.song),this.setTips("已经将一首歌曲添加到播放队列")},play(){this.$emit("playNow",this.song)},deleteOne(t){this.hide(),this.$emit("deleteOne",t),this.setTips("已经删除一首歌曲啦")}}),created(){},mounted(){}},d=p,m=(s("cf63"),s("2877")),f=Object(m["a"])(d,r,i,!1,null,"3221c0c0",null);e["a"]=f.exports},"7ded":function(t,e,s){"use strict";var r=s("e1d2");class i{static login(t,e){return Object(r["a"])("login",{params:{phone:t,password:e}})}static getLoginStatus(){return Object(r["a"])("loginStatus")}static refreshLogin(){return Object(r["a"])("loginRefresh")}static logout(){return Object(r["a"])("logout")}static signin(){return Object(r["a"])("signin")}}e["a"]=i},a77a:function(t,e,s){},a78e:function(t,e,s){"use strict";var r=s("37f7"),i=s.n(r);i.a},b6ac:function(t,e,s){},cf63:function(t,e,s){"use strict";var r=s("b6ac"),i=s.n(r);i.a},dfbe:function(t,e,s){"use strict";var r=s("a77a"),i=s.n(r);i.a},e116:function(t,e,s){},f4da:function(t,e,s){},fa28:function(t,e,s){"use strict";var r=s("23f1"),i=s.n(r);i.a}}]);
//# sourceMappingURL=user.9b8883a6.js.map