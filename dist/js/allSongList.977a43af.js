(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["allSongList"],{"11c3":function(t,e,s){"use strict";var i=s("1208"),n=s.n(i);n.a},1208:function(t,e,s){},1888:function(t,e,s){},"25f8":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"allSongList"},[s("header",{staticClass:"header border-bottom"},[s("svg",{staticClass:"icon i-back",attrs:{"aria-hidden":"true"},on:{click:t.goBack}},[s("use",{attrs:{"xlink:href":"#icon-arrowleft"}})]),s("h2",{staticClass:"title"},[t._v("歌单")])]),s("Scroll",{ref:"list",staticClass:"scroll",attrs:{data:t.playLists,pullup:t.pullup},on:{scrollToEnd:t.loadMore}},[s("div",[s("div",{staticClass:"nav"},[s("span",{staticClass:"catText border",on:{click:t.getCatList}},[t._v("\n          "+t._s(t.catText)+"\n          "),s("svg",{staticClass:"icon i-back",attrs:{"aria-hidden":"true"},on:{click:t.goBack}},[s("use",{attrs:{"xlink:href":"#icon-right"}})])]),s("div",{staticClass:"sort"},[s("span",{staticClass:"new",class:{active:"new"===t.order},on:{click:t.orderNew}},[t._v("最新")]),t._v("|\n          "),s("span",{staticClass:"hot",class:{active:"hot"===t.order},on:{click:t.orderHot}},[t._v("最热")])])]),s("ul",{staticClass:"list-wrapper"},t._l(t.playLists,(function(e,i){return s("li",{key:i,staticClass:"list",on:{click:function(s){return t.handleSongList(e)}}},[s("img",{staticClass:"pic",attrs:{src:e.coverImgUrl,alt:""}}),s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"number"},[s("svg",{staticClass:"icon i-count",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-music"}})]),s("div",{staticClass:"count"},[t._v(t._s(t._f("setNumber")(e.playCount)))])]),s("div",{staticClass:"author"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-user"}})]),s("span",{staticClass:"nickname"},[t._v(t._s(e.creator.nickname))])])])})),0)])]),s("cat-list",{ref:"catList",attrs:{catList:t.catList},on:{selectItem:t.selectCat,selectAll:t.selectAll}}),s("router-view",{ref:"musicList",attrs:{title:t.title,picUrl:t.picUrl,songs:t.songs,id:t.discId},on:{select:t.selectItem,play:t.playAll}})],1)},n=[],a=(s("8e6e"),s("456d"),s("673e"),s("ac6a"),s("8615"),s("bd86")),r=(s("7f7f"),s("42ba")),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide-up"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showCatList,expression:"showCatList"}],staticClass:"allSongList"},[s("header",{staticClass:"header border-bottom"},[s("svg",{staticClass:"icon i-back",attrs:{"aria-hidden":"true"},on:{click:t.goBack}},[s("use",{attrs:{"xlink:href":"#icon-arrowleft"}})]),s("h2",{staticClass:"title"},[t._v("歌单分类")])]),s("Scroll",{ref:"list",staticClass:"scroll",attrs:{data:t.catList}},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"all border",on:{click:t.selectAll}},[t._v("全部歌单")]),s("ul",{staticClass:"list-wrapper"},t._l(t.catList,(function(e,i){return s("li",{key:i,staticClass:"list"},[s("div",{staticClass:"sub"},[t._v(t._s(e.name))]),s("ul",{staticClass:"sub-wrapper border-bottom"},t._l(e[i],(function(e){return s("li",{key:e.name,staticClass:"sub-item",on:{click:function(s){return t.selectItem(e)}}},[t._v("\n                "+t._s(e.name)+"\n              ")])})),0)])})),0)])])],1)])},o=[],l=s("3ce5"),u=s("0712"),f={name:"",components:{Scroll:l["a"]},mixins:[u["b"]],props:{catList:{type:Array,default:function(){return[]}}},data:function(){return{showCatList:!1}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{show:function(){this.showCatList=!0},hide:function(){this.showCatList=!1},goBack:function(){this.hide()},selectItem:function(t){this.$emit("selectItem",t),this.hide()},selectAll:function(){this.$emit("selectAll"),this.hide()}}},h=f,d=(s("11c3"),s("2877")),p=Object(d["a"])(h,c,o,!1,null,"37b6a547",null),v=p.exports,g=s("5880");function m(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?m(s,!0).forEach((function(e){Object(a["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var C={name:"allSongList",components:{Scroll:l["a"],CatList:v},filters:{setNumber:function(t){return t<1e4?"<1万":"".concat(Math.ceil(t/1e4),"万")}},mixins:[u["d"],u["b"]],props:{},data:function(){return{pullup:!0,playLists:[],before:0,hasMore:!0,catText:"全部",catList:[],offset:0,order:"hot",list:[],songs:[]}},computed:{title:function(){return this.list.name},picUrl:function(){return this.list.coverImgUrl},discId:function(){return this.list.id}},watch:{order:function(t){this.getSongList(this.catText,this.offset,t)}},created:function(){this.setShowFooter(!1),this.getSongList(this.catText,this.offset,this.order)},methods:b({},Object(g["mapMutations"])({setShowFooter:"SET_SHOW_FOOTER"}),{loadMore:function(){var t=this;this.hasMore&&r["a"].getAllSongList(this.catText,this.offset,this.order).then((function(e){var s=e.playlists;t.offset=t.offset+10,t.hasMore=e.more,t.playLists=t.playLists.concat(s)}))},goBack:function(){this.$router.go(-1)},getCatList:function(){var t=this;r["a"].getCatList().then((function(e){t.categories=Object.values(e.categories),t.sub=e.sub,t.$refs.catList.show();var s=[],i=e.sub,n=e.categories,a=Object.values(n);a.forEach((function(t,e){var n={name:t};n[e]=[],i.forEach((function(t){t.category===e&&n[e].push(t)})),s.push(n)})),t.catList=s}))},getSongList:function(t,e,s){var i=this;r["a"].getAllSongList(t,e,s).then((function(t){var e=t.playlists;i.offset=i.offset+10,i.playLists=e,i.hasMore=t.more}))},orderNew:function(){this.order="new"},orderHot:function(){this.order="hot"},handleSongList:function(t){var e=this;t.id&&this.$router.push({path:"/songslist/".concat(t.id)}),r["a"].getDisc(t.id).then((function(t){e.setList(t)}))},selectCat:function(t){this.catText=t.name,this.offset=0,this.getSongList(t.name,this.offset,this.order)},selectAll:function(){this.catText="全部",this.offset=0,this.getSongList(this.catText,this.offset,this.order)}})},w=C,L=(s("5555"),Object(d["a"])(w,i,n,!1,null,"f53939da",null));e["default"]=L.exports},"386b":function(t,e,s){var i=s("5ca1"),n=s("79e5"),a=s("be13"),r=/"/g,c=function(t,e,s,i){var n=String(a(t)),c="<"+e;return""!==s&&(c+=" "+s+'="'+String(i).replace(r,"&quot;")+'"'),c+">"+n+"</"+e+">"};t.exports=function(t,e){var s={};s[t]=e(c),i(i.P+i.F*n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",s)}},"42ba":function(t,e,s){"use strict";var i=s("d225"),n=s("b0b4"),a=s("e1d2"),r=function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,null,[{key:"getBanner",value:function(){return Object(a["a"])("banner")}},{key:"getRecommend",value:function(){return Object(a["a"])("recommend")}},{key:"getRecommendSongs",value:function(){return Object(a["a"])("personalized",{params:{limit:6}})}},{key:"getNewSong",value:function(){return Object(a["a"])("newSong",{})}},{key:"getDisc",value:function(t){return Object(a["a"])("disc",{params:{id:t}})}},{key:"getNewDisc",value:function(){return Object(a["a"])("newDisc",{params:{order:"new",limit:6}})}},{key:"getResource",value:function(){return Object(a["a"])("resource",{params:{limit:6}})}},{key:"getAllSongList",value:function(t,e,s){return Object(a["a"])("newDisc",{params:{limit:10,cat:t,offset:e,order:s}})}},{key:"getCatList",value:function(){return Object(a["a"])("catList")}},{key:"getComment",value:function(t,e){return Object(a["a"])("comment",{params:{id:t,offset:e}})}}]),t}();e["a"]=r},"504c":function(t,e,s){var i=s("9e1e"),n=s("0d58"),a=s("6821"),r=s("52a7").f;t.exports=function(t){return function(e){var s,c=a(e),o=n(c),l=o.length,u=0,f=[];while(l>u)s=o[u++],i&&!r.call(c,s)||f.push(t?[s,c[s]]:c[s]);return f}}},5555:function(t,e,s){"use strict";var i=s("1888"),n=s.n(i);n.a},"673e":function(t,e,s){"use strict";s("386b")("sub",(function(t){return function(){return t(this,"sub","","")}}))},8615:function(t,e,s){var i=s("5ca1"),n=s("504c")(!1);i(i.S,"Object",{values:function(t){return n(t)}})}}]);
//# sourceMappingURL=allSongList.977a43af.js.map